{"id":"Uj2q","dependencies":[{"name":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\package.json","includedInParent":true,"mtime":1753388339920},{"name":"axios","loc":{"line":2,"column":18,"index":39},"parent":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\public\\js\\stripe.js","resolved":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\node_modules\\axios\\index.js"},{"name":"./alerts","loc":{"line":3,"column":26,"index":74},"parent":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\public\\js\\stripe.js","resolved":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\public\\js\\alerts.js"},{"name":"@stripe/stripe-js","loc":{"line":4,"column":27,"index":113},"parent":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\public\\js\\stripe.js","resolved":"C:\\Users\\HP\\Desktop\\projects\\NATOUR\\node_modules\\@stripe\\stripe-js\\lib\\index.mjs"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bookTour=void 0;var e=r(require(\"axios\")),o=require(\"./alerts\"),t=require(\"@stripe/stripe-js\");function r(e){return e&&e.__esModule?e:{default:e}}const s=async r=>{try{const i=await(0,t.loadStripe)(void 0),a=await(0,e.default)(\"/api/v1/bookings/checkout-session/\".concat(r));await i.redirectToCheckout({sessionId:a.data.session.id})}catch(s){console.log(s),(0,o.showAlert)(\"error\",s.message||\"Something went wrong!\")}};exports.bookTour=s;"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":13}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":20}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":35}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":43}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":56}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":64}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":68}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":76}},{"source":"stripe.js","original":{"line":22,"column":2},"generated":{"line":1,"column":90}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":92}},{"source":"stripe.js","name":"_axios","original":{"line":2,"column":0},"generated":{"line":1,"column":96}},{"source":"stripe.js","name":"_interopRequireDefault","original":{"line":2,"column":0},"generated":{"line":1,"column":98}},{"source":"stripe.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":108}},{"source":"stripe.js","name":"_alerts","original":{"line":3,"column":0},"generated":{"line":1,"column":118}},{"source":"stripe.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":120}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":128}},{"source":"stripe.js","name":"_stripeJs","original":{"line":4,"column":0},"generated":{"line":1,"column":140}},{"source":"stripe.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":142}},{"source":"stripe.js","original":{"line":4,"column":0},"generated":{"line":1,"column":150}},{"source":"stripe.js","original":{"line":4,"column":47},"generated":{"line":1,"column":171}},{"source":"stripe.js","name":"_interopRequireDefault","original":{"line":4,"column":47},"generated":{"line":1,"column":180}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":182}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":185}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":192}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":195}},{"source":"stripe.js","name":"__esModule","original":{"line":4,"column":47},"generated":{"line":1,"column":197}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":208}},{"source":"stripe.js","name":"default","original":{"line":4,"column":47},"generated":{"line":1,"column":210}},{"source":"stripe.js","name":"default","original":{"line":4,"column":47},"generated":{"line":1,"column":211}},{"source":"stripe.js","name":"e","original":{"line":4,"column":47},"generated":{"line":1,"column":219}},{"source":"stripe.js","original":{"line":7,"column":7},"generated":{"line":1,"column":222}},{"source":"stripe.js","name":"bookTour","original":{"line":7,"column":13},"generated":{"line":1,"column":228}},{"source":"stripe.js","original":{"line":7,"column":24},"generated":{"line":1,"column":230}},{"source":"stripe.js","original":{"line":7,"column":24},"generated":{"line":1,"column":236}},{"source":"stripe.js","original":{"line":8,"column":2},"generated":{"line":1,"column":240}},{"source":"stripe.js","original":{"line":9,"column":4},"generated":{"line":1,"column":244}},{"source":"stripe.js","name":"stripe","original":{"line":9,"column":10},"generated":{"line":1,"column":250}},{"source":"stripe.js","original":{"line":9,"column":25},"generated":{"line":1,"column":258}},{"source":"stripe.js","name":"loadStripe","original":{"line":9,"column":25},"generated":{"line":1,"column":260}},{"source":"stripe.js","original":{"line":9,"column":35},"generated":{"line":1,"column":262}},{"source":"stripe.js","name":"undefined","original":{"line":9,"column":35},"generated":{"line":1,"column":279}},{"source":"stripe.js","name":"session","original":{"line":12,"column":10},"generated":{"line":1,"column":282}},{"source":"stripe.js","original":{"line":12,"column":26},"generated":{"line":1,"column":290}},{"source":"stripe.js","name":"axios","original":{"line":12,"column":26},"generated":{"line":1,"column":292}},{"source":"stripe.js","original":{"line":12,"column":31},"generated":{"line":1,"column":294}},{"source":"stripe.js","name":"concat","original":{"line":12,"column":31},"generated":{"line":1,"column":303}},{"source":"stripe.js","name":"concat","original":{"line":12,"column":31},"generated":{"line":1,"column":340}},{"source":"stripe.js","name":"tourId","original":{"line":12,"column":69},"generated":{"line":1,"column":347}},{"source":"stripe.js","name":"stripe","original":{"line":15,"column":10},"generated":{"line":1,"column":357}},{"source":"stripe.js","name":"redirectToCheckout","original":{"line":15,"column":17},"generated":{"line":1,"column":359}},{"source":"stripe.js","original":{"line":15,"column":36},"generated":{"line":1,"column":378}},{"source":"stripe.js","name":"sessionId","original":{"line":16,"column":6},"generated":{"line":1,"column":379}},{"source":"stripe.js","name":"session","original":{"line":16,"column":17},"generated":{"line":1,"column":389}},{"source":"stripe.js","name":"data","original":{"line":16,"column":25},"generated":{"line":1,"column":391}},{"source":"stripe.js","name":"session","original":{"line":16,"column":30},"generated":{"line":1,"column":396}},{"source":"stripe.js","name":"id","original":{"line":16,"column":38},"generated":{"line":1,"column":404}},{"source":"stripe.js","original":{"line":18,"column":4},"generated":{"line":1,"column":409}},{"source":"stripe.js","name":"err","original":{"line":18,"column":11},"generated":{"line":1,"column":415}},{"source":"stripe.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":418}},{"source":"stripe.js","name":"log","original":{"line":19,"column":12},"generated":{"line":1,"column":426}},{"source":"stripe.js","name":"err","original":{"line":19,"column":16},"generated":{"line":1,"column":430}},{"source":"stripe.js","original":{"line":20,"column":4},"generated":{"line":1,"column":434}},{"source":"stripe.js","name":"showAlert","original":{"line":20,"column":4},"generated":{"line":1,"column":436}},{"source":"stripe.js","original":{"line":20,"column":13},"generated":{"line":1,"column":438}},{"source":"stripe.js","original":{"line":20,"column":14},"generated":{"line":1,"column":449}},{"source":"stripe.js","name":"err","original":{"line":20,"column":23},"generated":{"line":1,"column":457}},{"source":"stripe.js","name":"message","original":{"line":20,"column":27},"generated":{"line":1,"column":459}},{"source":"stripe.js","original":{"line":20,"column":38},"generated":{"line":1,"column":468}},{"source":"stripe.js","name":"exports","original":{"line":22,"column":2},"generated":{"line":1,"column":495}},{"source":"stripe.js","name":"bookTour","original":{"line":22,"column":2},"generated":{"line":1,"column":503}},{"source":"stripe.js","name":"bookTour","original":{"line":22,"column":2},"generated":{"line":1,"column":512}}],"sources":{"stripe.js":"/* eslint-disable */\nimport axios from \"axios\";\nimport { showAlert } from \"./alerts\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\n// Function to book a tour\nexport const bookTour = async (tourId) => {\n  try {\n    const stripe = await loadStripe(process.env.STRIPE_PUBLIC_KEY);\n\n    // 1) Get checkout session from API\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourId}`);\n\n    // 2) Redirect to Stripe checkout\n    await stripe.redirectToCheckout({\n      sessionId: session.data.session.id,\n    });\n  } catch (err) {\n    console.log(err);\n    showAlert(\"error\", err.message || \"Something went wrong!\");\n  }\n};\n\n"},"lineCount":null}},"error":null,"hash":"83ce24036f6f273ace02beda7efed136","cacheData":{"env":{}}}